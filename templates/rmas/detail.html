{{define "content"}}
<div class="mb-4">
  <a href="/rma" class="text-sm text-blue-600 hover:underline">← Back to RMAs</a>
</div>

<div class="card">
  <div class="flex justify-between items-start mb-4">
    <h2 class="text-lg font-semibold">{{.RMA.ID}}</h2>
    <span class="badge badge-{{.RMA.Status}}">{{.RMA.Status}}</span>
  </div>

  <div class="detail-grid mb-4">
    <div>
      <div class="detail-label">Serial Number</div>
      <div class="detail-value"><a href="/devices/{{.RMA.SerialNumber}}" class="text-blue-600">{{.RMA.SerialNumber}}</a></div>
    </div>
    <div>
      <div class="detail-label">Customer</div>
      <div class="detail-value">{{.RMA.Customer}}</div>
    </div>
    <div>
      <div class="detail-label">Created</div>
      <div class="detail-value">{{formatDate .RMA.CreatedAt}}</div>
    </div>
    <div>
      <div class="detail-label">Received</div>
      <div class="detail-value">{{if .RMA.ReceivedAt}}{{formatDate (deref .RMA.ReceivedAt)}}{{else}}—{{end}}</div>
    </div>
    <div>
      <div class="detail-label">Resolved</div>
      <div class="detail-value">{{if .RMA.ResolvedAt}}{{formatDate (deref .RMA.ResolvedAt)}}{{else}}—{{end}}</div>
    </div>
  </div>

  <div class="mb-4">
    <div class="detail-label">Reason</div>
    <p class="text-sm">{{.RMA.Reason}}</p>
  </div>

  {{if .RMA.DefectDescription}}
  <div class="mb-4">
    <div class="detail-label">Defect Description</div>
    <p class="text-sm">{{.RMA.DefectDescription}}</p>
  </div>
  {{end}}

  {{if .RMA.Resolution}}
  <div class="mb-4">
    <div class="detail-label">Resolution</div>
    <p class="text-sm">{{.RMA.Resolution}}</p>
  </div>
  {{end}}
</div>
{{end}}

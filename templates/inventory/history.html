{{define "inventory-history"}}
<div class="p-6 space-y-4">
  <h3 class="text-lg font-semibold">Transaction History: {{.InventoryItem.IPN}}</h3>
  
  {{if .InventoryItem.Description}}
  <p class="text-sm text-gray-600">{{.InventoryItem.Description}}</p>
  {{end}}
  
  {{if eq (len .Transactions) 0}}
  <p class="text-gray-400 text-center py-4">No transactions</p>
  {{else}}
  <div class="overflow-x-auto">
    <table class="w-full text-sm">
      <thead>
        <tr class="border-b border-gray-200 dark:border-gray-700 text-left">
          <th class="px-3 py-2 font-medium text-gray-500">Type</th>
          <th class="px-3 py-2 font-medium text-gray-500">Qty</th>
          <th class="px-3 py-2 font-medium text-gray-500">Reference</th>
          <th class="px-3 py-2 font-medium text-gray-500">Notes</th>
          <th class="px-3 py-2 font-medium text-gray-500">Date</th>
        </tr>
      </thead>
      <tbody>
        {{range .Transactions}}
        <tr class="border-b border-gray-100 dark:border-gray-700">
          <td class="px-3 py-2">{{badge .Type}}</td>
          <td class="px-3 py-2">{{if eq .Type "issue"}}âˆ’{{end}}{{printf "%.0f" .Qty}}</td>
          <td class="px-3 py-2">{{.Reference}}</td>
          <td class="px-3 py-2">{{.Notes}}</td>
          <td class="px-3 py-2 text-gray-500">{{formatDate .CreatedAt}}</td>
        </tr>
        {{end}}
      </tbody>
    </table>
  </div>
  {{end}}
  
  <div class="flex justify-end">
    <button onclick="document.getElementById('modal').classList.add('hidden')" 
            class="btn btn-secondary">Close</button>
  </div>
</div>
{{end}}
{{define "content"}}
<div class="mb-4">
  <a href="/firmware" class="text-sm text-blue-600 hover:underline">← Back to Campaigns</a>
</div>

<div class="card mb-4">
  <div class="flex justify-between items-start mb-4">
    <div>
      <h2 class="text-lg font-semibold">{{.Campaign.Name}}</h2>
      <span class="text-sm text-gray-500 font-mono">{{.Campaign.ID}}</span>
    </div>
    <span class="badge badge-{{.Campaign.Status}}">{{.Campaign.Status}}</span>
  </div>

  <div class="detail-grid">
    <div>
      <div class="detail-label">Version</div>
      <div class="detail-value font-mono">{{.Campaign.Version}}</div>
    </div>
    <div>
      <div class="detail-label">Category</div>
      <div class="detail-value">{{if .Campaign.Category}}{{.Campaign.Category}}{{else}}—{{end}}</div>
    </div>
    <div>
      <div class="detail-label">Target Filter</div>
      <div class="detail-value">{{if .Campaign.TargetFilter}}{{.Campaign.TargetFilter}}{{else}}All devices{{end}}</div>
    </div>
    <div>
      <div class="detail-label">Created</div>
      <div class="detail-value">{{formatDate .Campaign.CreatedAt}}</div>
    </div>
  </div>
</div>

{{if .CampaignDevices}}
<div class="card">
  <h3 class="text-base font-semibold mb-3">Campaign Devices</h3>
  <table class="w-full text-sm">
    <thead>
      <tr class="border-b border-gray-200 dark:border-gray-700 text-left">
        <th class="px-3 py-2 font-medium text-gray-500">Serial #</th>
        <th class="px-3 py-2 font-medium text-gray-500">Status</th>
        <th class="px-3 py-2 font-medium text-gray-500">Updated</th>
      </tr>
    </thead>
    <tbody>
      {{range .CampaignDevices}}
      <tr class="border-b border-gray-100 dark:border-gray-700">
        <td class="px-3 py-2 font-mono"><a href="/devices/{{.SerialNumber}}" class="text-blue-600">{{.SerialNumber}}</a></td>
        <td class="px-3 py-2"><span class="badge badge-{{.Status}}">{{.Status}}</span></td>
        <td class="px-3 py-2 text-gray-500">{{if .UpdatedAt}}{{formatDate (deref .UpdatedAt)}}{{else}}—{{end}}</td>
      </tr>
      {{end}}
    </tbody>
  </table>
</div>
{{end}}
{{end}}

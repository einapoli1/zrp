{{define "content"}}
<div class="mb-4 flex justify-between items-center">
  <span class="text-sm text-gray-500">{{len .Tests}} test records</span>
  <a href="/testing/new" class="btn btn-primary">+ New Test Record</a>
</div>

<div class="card overflow-x-auto">
  <div id="testing-table">
    {{template "testing-table" .}}
  </div>
</div>
{{end}}

{{define "testing-table"}}
<table class="w-full text-sm">
  <thead>
    <tr class="border-b border-gray-200 dark:border-gray-700 text-left">
      <th class="px-3 py-2 font-medium text-gray-500">ID</th>
      <th class="px-3 py-2 font-medium text-gray-500">Serial #</th>
      <th class="px-3 py-2 font-medium text-gray-500">IPN</th>
      <th class="px-3 py-2 font-medium text-gray-500">Test Type</th>
      <th class="px-3 py-2 font-medium text-gray-500">Result</th>
      <th class="px-3 py-2 font-medium text-gray-500">Tested By</th>
      <th class="px-3 py-2 font-medium text-gray-500">Date</th>
    </tr>
  </thead>
  <tbody>
    {{range .Tests}}
    <tr class="border-b border-gray-100 dark:border-gray-700">
      <td class="px-3 py-2 font-mono">{{.ID}}</td>
      <td class="px-3 py-2"><a href="/devices/{{.SerialNumber}}" class="text-blue-600">{{.SerialNumber}}</a></td>
      <td class="px-3 py-2 font-mono">{{.IPN}}</td>
      <td class="px-3 py-2">{{.TestType}}</td>
      <td class="px-3 py-2"><span class="badge badge-{{.Result}}">{{.Result}}</span></td>
      <td class="px-3 py-2">{{.TestedBy}}</td>
      <td class="px-3 py-2 text-gray-500">{{formatDate .TestedAt}}</td>
    </tr>
    {{else}}
    <tr><td colspan="7" class="px-3 py-8 text-center text-gray-400">No test records found</td></tr>
    {{end}}
  </tbody>
</table>
{{end}}
